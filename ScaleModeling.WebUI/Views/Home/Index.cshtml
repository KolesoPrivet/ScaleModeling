@using ScaleModeling.WebUI.Models

@model HomeViewModel

@{
	ViewBag.Title = "Главная";
}

@section Links{
	<li>
		<div class="navigation-couple">
			<a href="@Url.Action("Index", "Home")" class="active glyphicon glyphicon-home">
				<div>Главная</div>
			</a>
		</div>

	</li>
	<li>
		<div class="navigation-couple">
			<a href="@Url.Action("Index", "Shop")" class="glyphicon glyphicon-usd">
				<div>Магазин</div>
			</a>
		</div>
	</li>
	<li>
		<div class="navigation-couple">
			<a href="@Url.Action("Index", "Event")" class="glyphicon glyphicon-bullhorn">
				<div>События</div>
			</a>
		</div>
	</li>
	<li>
		<div class="navigation-couple">
			<a href="@Url.Action("Index", "Article")" class="glyphicon glyphicon-list-alt">
				<div>Статьи</div>
			</a>
		</div>
	</li>
	<li>
		<div class="navigation-couple">
			<a href="@Url.Action("Index", "Forum")" class="glyphicon glyphicon-pencil">
				<div>Форум</div>
			</a>
		</div>

	</li>
	<li>
		<div class="navigation-couple">
			<a href="@Url.Action("Index", "Video")" class="glyphicon glyphicon-film">
				<div>Видео</div>
			</a>
		</div>
	</li>
	<li>
		<div class="navigation-couple">
			<a href="@Url.Action("Index", "Work")" class="glyphicon glyphicon-wrench">
				<div>Работы</div>
			</a>
		</div>
	</li>
}

<div class="row">
	<div class="col-md-5 col-md-offset-1">
		<h3>Новые статьи</h3>
		@foreach (var article in Model.Articles)
		{
			<div class="row well">
				<div class="col-md-12">
					<div class="row">
						<div class="col-md-12">
							<p>@article.Description.Substring( 0, 300 )...</p>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<span class="pull-left label label-primary">@article.CreationDate.ToString().Substring( 0, 10 )</span>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<span class="pull-left">@article.Title</span>
						</div>
						<div class="col-md-6">
							<span class="pull-right">@article.Author.Login</span>
						</div>
					</div>
				</div>
			</div>
		}
	</div>
	<div class="col-md-5 col-md-offset-1">
		<h3>Новые темы</h3>
		@foreach (var topic in Model.Topics)
		{
			<div class="row well">
				<div class="col-md-12">
					<div class="row">
						<div class="col-md-12">
							<p>@topic.Text.Substring( 0, 300 )...</p>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">
							<span class="pull-left label label-primary">@topic.CreationDate.ToString().Substring( 0, 10 )</span>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<span class="pull-left">@topic.Title</span>
						</div>
						<div class="col-md-6">
							<span class="pull-right">@topic.Author.Login</span>
						</div>
					</div>
				</div>
			</div>
		}
	</div>

</div>
<div class="row">
	<div class="col-md-5 col-md-offset-1">
		<h3>Новые события</h3>
		@foreach (var ev in Model.Events)
		{
			<div class="row well">
				<div class="col-md-12">
					<div class="row">
						<div class="col-md-2">
							<p>@ev.Title</p>
						</div>
						<div class="col-md-10">
							<p>@ev.Description.Substring( 0, 300 )...</p>
						</div>
						<span class="pull-right label label-primary">Подробнее...</span>
					</div>
				</div>
			</div>
		}
	</div>

	<div class="col-md-5 col-md-offset-1">
		<h3>Новый ассортимент</h3>
		@foreach (var product in Model.Products)
		{
			<div class="row well">
				<div class="col-md-12">
					<div class="row-fluid">
						<div class="col-md-12 text-center">
							@{
								var image = product.ProductImages.FirstOrDefault();
								if (image != null)
								{
									<img src="~/Content/Images/tank.jpg" class="img-rounded smallImages">
								}
								else
								{
									<img src="">
								}
							}
						</div>
					</div>
					<div class="row">
						<div class="col-md-9">
							<h4>@product.Name</h4>
						</div>
						<div class="col-md-3">
							<button class="pull-right btn btn-primary">Подробнее...</button>
						</div>
					</div>
				</div>
			</div>
		}
	</div>
</div>